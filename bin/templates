#!/bin/bash

dir=$1
shift

if [ -z "$dir" ]; then
  ls -1 "$HOME/.github/templates/"
  exit
fi

src="$HOME/.github/templates/$dir"

# do parent first, recursively
if [ -f "$src/.parent" ]; then
  templates "$(cat "$src/.parent")" "$@"
fi

rsync -av --exclude .parent "$src/" . "$@"

