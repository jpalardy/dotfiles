#!/bin/bash

TYPE=${TYPE:-"C"} # C or T

generate() {
  find . -maxdepth 1 -type f "$@" -printf "\"%f\" %${TYPE}Y/%${TYPE}m/\n"
}

generate "$@" | awk '{print "mkdir -p", $NF}' | sort -u
generate "$@" | sort -k2 | awk '{print "mv -i", $0}'

