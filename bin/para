#!/bin/bash

awk -e "

BEGINFILE {
  blank = 1
  line = 0
  para = 0
}

# finding a new paragraph
NF && blank {
  blank = 0
  para += 1
}

# already inside a paragraph
NF {
  line += 1
}

# line is blank (between paragraphs)
NF == 0 {
  blank = 1
  line = 0
}

" "$@"

