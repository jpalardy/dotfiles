#!/bin/bash

filters() {
  for filter in "$@"; do
    if [ -e "$filter" ]; then
      echo "$filter"
    fi
  done
}

ignore_from_filters() {
  awk '{print "--ignore-dir=" $1}' $(filters $HOME/.filter .filter)
}

ack -af --sort-files $(ignore_from_filters) | grep -v '\(^\|\/\)\.'

