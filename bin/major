#!/bin/bash

function regexp() {
  echo "$@" | awk '
    BEGIN {
      lut[0] = "[sz]"
      lut[1] = "(t|th|d)"
      lut[2] = "n"
      lut[3] = "m"
      lut[4] = "r"
      lut[5] = "l"
      lut[6] = "(sh|ch|j)"
      lut[7] = "(c|k|qu)"
      lut[8] = "(f|ph|v)"
      lut[9] = "[pb]"
      vowels = "[aiueoy]*"
    }

    {
      printf "'\''^"
      for (i=1; i<=length; i++) {
        printf "%s%s", vowels, lut[substr($0, i, 1)]
      }
      printf "%s$'\''\n", vowels
    }
  '
}

for word in "$@"; do
  eval "look . | rg $(regexp "$word")" | sort | ncol
  echo
done


