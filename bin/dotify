#!/bin/bash

awk -e '

BEGIN {
  print "digraph {"
  print "  rankdir=LR;"
  print "  node [style=rounded, shape=box, fontname=Courier, fontsize=16];"
}

NF == 1 {
  printf "  \"%s\";\n", $1
  next
}

NF == 2 {
  printf "  \"%s\" -> \"%s\";\n", $1, $2
}

NF > 2 {
  printf "*** line %d has too many fields: %s\n", NF, $0 > "/dev/stderr"
}

END {
  print "}"
}

' "$@"

